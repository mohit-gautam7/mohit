<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ff0080">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Happy New Year Motuuuuuuu üéÜ</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600;700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            /* VIBRANT ANIMATED BACKGROUND (FROM CODE 1) */
            background: linear-gradient(-45deg, #ff0080, #ff8c00, #40e0d0, #8a2be2);
            background-size: 400% 400%;
            animation: bg 10s infinite;
            font-family: 'Poppins', sans-serif;
            overflow: hidden; 
            height: 100dvh; /* Mobile Fullscreen Fix */
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        @keyframes bg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- FIREWORKS CANVAS (BACKGROUND PHYSICS) --- */
        #fireworksCanvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }

        /* --- FLOATING SHINE (FROM CODE 1) --- */
        .float-icon {
            position: fixed; font-size: 2rem;
            animation: floatUp 8s linear infinite;
            pointer-events: none; z-index: 1; opacity: 0;
        }
        @keyframes floatUp {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* --- MAIN CARD CONTAINER --- */
        .card-container {
            width: 90%; max-width: 400px;
            height: auto; min-height: 60vh;
            position: relative; z-index: 10;
            display: flex; justify-content: center; align-items: center;
        }

        /* --- THE SCREEN/CARD (MERGED STYLE) --- */
        .screen {
            position: absolute;
            width: 100%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            
            /* Glass Effect + White Background */
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            
            /* GRADIENT BORDER (FROM CODE 1, REFINED FOR ROUNDED CORNERS) */
            border: 5px solid transparent;
            background-clip: padding-box;
            border-radius: 30px;
            
            /* This creates the gradient border effect while keeping rounded corners */
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            
            padding: 30px 20px;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.5s;
            text-align: center;
        }
        
        /* The Gradient Border Pseudo-element */
        .screen::before {
            content: ''; position: absolute; top: -5px; bottom: -5px; left: -5px; right: -5px;
            background: linear-gradient(45deg, #ff0080, #ff8c00, #40e0d0, #8a2be2);
            z-index: -1; border-radius: 35px;
        }

        .hidden { transform: scale(0.5) translateY(100px); opacity: 0; pointer-events: none; z-index: -1; }
        .active { transform: scale(1) translateY(0); opacity: 1; z-index: 5; }

        /* --- TYPOGRAPHY --- */
        h1 {
            font-family: 'Pacifico', cursive;
            background: linear-gradient(45deg, #ff0080, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.4rem; margin-bottom: 15px; line-height: 1.2;
            filter: drop-shadow(2px 2px 0px rgba(0,0,0,0.1));
        }
        p { color: #444; font-size: 1.15rem; margin-bottom: 25px; font-weight: 600; line-height: 1.5; }

        /* --- FLIP CARDS --- */
        .flip-box {
            background-color: transparent; width: 260px; height: 360px;
            perspective: 1000px; cursor: pointer; margin-bottom: 20px;
        }
        .flip-inner {
            position: relative; width: 100%; height: 100%;
            text-align: center; transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .flip-box.flipped .flip-inner { transform: rotateY(180deg); }
        .flip-front, .flip-back {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: 20px;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .flip-front { background: linear-gradient(135deg, #ff0080, #ff8c00); color: white; }
        .flip-front span { font-size: 4rem; animation: bounce 2s infinite; }
        .flip-back { background: white; transform: rotateY(180deg); padding: 5px; overflow: hidden; }
        .media-content { width: 100%; height: 85%; object-fit: cover; border-radius: 15px 15px 0 0; }
        .caption { height: 15%; display: flex; align-items: center; justify-content: center; color: #ff0080; font-weight: bold; }

        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-10px);} }

        /* --- BUTTONS --- */
        .btn {
            padding: 12px 35px; border: none; border-radius: 50px;
            font-size: 1rem; font-weight: 700; cursor: pointer;
            transition: transform 0.2s; margin: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-family: 'Poppins', sans-serif;
        }
        .btn:active { transform: scale(0.95); }
        .btn-primary { background: linear-gradient(45deg, #ff0080, #ff2d55); color: white; }
        .btn-secondary { background: #f1f2f6; color: #333; }
        .btn-start { background: linear-gradient(45deg, #00ff99, #00cc66); color: white; font-size: 1.3rem; padding: 15px 50px; }

        /* --- POPUPS (MODALS) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); /* Darker dim like Code 1 */
            display: flex; justify-content: center; align-items: center;
            z-index: 1000; opacity: 0; pointer-events: none;
            transition: opacity 0.3s; backdrop-filter: blur(5px);
        }
        .modal-overlay.show { opacity: 1; pointer-events: auto; }
        
        .modal-box {
            background: white; width: 85%; max-width: 320px;
            padding: 30px; border-radius: 25px; text-align: center;
            transform: scale(0.8); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 4px solid #ff0080;
        }
        .modal-overlay.show .modal-box { transform: scale(1); }
        
        .shake { animation: shake 0.5s; }
        @keyframes shake {
            0% { transform: translateX(0); } 25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); } 75% { transform: translateX(-10px); } 100% { transform: translateX(0); }
        }

        /* --- SAD ANIMATION --- */
        .sad-emoji { font-size: 4rem; display: block; margin: 15px 0; animation: cry 1.5s infinite; }
        @keyframes cry {
            0% { transform: translateY(0); } 50% { transform: translateY(10px); opacity: 0.8; } 100% { transform: translateY(0); opacity: 1; }
        }

    </style>
</head>
<body>

    <canvas id="fireworksCanvas"></canvas>

    <div id="floatingIcons"></div>

    <div class="card-container">

        <div id="screen-1" class="screen active">
            <h1>Happy New Year<br>2026 üéÜ</h1>
            <p>For my Motuuuuuuu ü•∞<br>Tumhare liye ek colorful surprise üíñ</p>
            <button class="btn btn-start" onclick="startExperience()">Start üéÅ</button>
        </div>

        <div id="screen-2" class="screen hidden">
            <h1>Memories üíå</h1>
            <div class="flip-box" onclick="flipCard(this)">
                <div class="flip-inner">
                    <div class="flip-front">
                        <span>üíå</span>
                        <p style="color:white; margin-top:10px;">Tap to Open</p>
                    </div>
                    <div class="flip-back">
                        <img src="card1.jpg" class="media-content" alt="Image 1">
                        <div class="caption">Sweet Memories ‚ú®</div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="nextScreen(3)">Next ‚û°Ô∏è</button>
        </div>

        <div id="screen-3" class="screen hidden">
            <h1>Smiles üíõ</h1>
            <div class="flip-box" onclick="flipCard(this)">
                <div class="flip-inner">
                    <div class="flip-front">
                        <span>üíõ</span>
                        <p style="color:white; margin-top:10px;">Tap to Open</p>
                    </div>
                    <div class="flip-back">
                        <img src="card2.jpg" class="media-content" alt="Image 2">
                        <div class="caption">Cute Smiles üíõ</div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="nextScreen(4)">Next ‚û°Ô∏è</button>
        </div>

        <div id="screen-4" class="screen hidden">
            <h1>Moments üí´</h1>
            <div class="flip-box" onclick="flipCard(this)">
                <div class="flip-inner">
                    <div class="flip-front">
                        <span>üí´</span>
                        <p style="color:white; margin-top:10px;">Tap to Open</p>
                    </div>
                    <div class="flip-back">
                        <img src="card3.jpg" class="media-content" alt="Image 3">
                        <div class="caption">Special Moments üí´</div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="nextScreen(5)">Next ‚û°Ô∏è</button>
        </div>

        <div id="screen-5" class="screen hidden">
            <h1>Video Gift üé•</h1>
            <div class="flip-box" onclick="flipCard(this)">
                <div class="flip-inner">
                    <div class="flip-front">
                        <span>üé•</span>
                        <p style="color:white; margin-top:10px;">Tap to Open</p>
                    </div>
                    <div class="flip-back">
                        <video src="card4.mp4" class="media-content" controls></video>
                        <div class="caption">Forever & Always ‚ù§Ô∏è</div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="nextScreen(6)">Final Surprise ‚ú®</button>
        </div>

        <div id="screen-6" class="screen hidden">
            <h1>Happy New Year<br>Motuuuuuuu üéÜ</h1>
            <p>Let's make a comeback this year ‚ú®<br>And get that internship üöÄ</p>
            <button class="btn btn-start" onclick="showLovePopup()">One Last Question üòâ</button>
        </div>

    </div>

    <div id="gate-modal" class="modal-overlay">
        <div class="modal-box" id="gate-box">
            <h1>Oye üòè</h1>
            <p id="gate-text" style="font-size: 1.2rem; font-weight: bold; color:#333;">Do you hate V? ü§î</p>
            <div style="margin-top: 20px;">
                <button class="btn btn-primary" onclick="handleGate(true)">YES üòå</button>
                <button class="btn btn-secondary" onclick="handleGate(false)">No / Neutral üòê</button>
            </div>
        </div>
    </div>

    <div id="bye-modal" class="modal-overlay">
        <div class="modal-box">
            <h1 style="color: #ff4757;">Theek hai...<br>Bye Bye üòî</h1>
            <div class="sad-emoji">üò≠ üò≠ üò≠</div>
            <p>Happy New Year<br>V ke saath hi manao üéÜ</p>
        </div>
    </div>

    <div id="love-question-modal" class="modal-overlay">
        <div class="modal-box" id="love-box">
            <h1>Sach batana... üôà</h1>
            <p id="love-text" style="font-size: 1.2rem; font-weight: bold; color:#ff0080;">Do you love Mohit? ‚ù§Ô∏è</p>
            <div style="margin-top: 20px;">
                <button class="btn btn-primary" onclick="handleLove(true)">YES ü•∞</button>
                <button class="btn btn-secondary" onclick="handleLove(false)">No üòí</button>
            </div>
        </div>
    </div>

    <div id="final-modal" class="modal-overlay">
        <div class="modal-box">
            <h1>I knew it! üòé‚ù§Ô∏è</h1>
            <p>Happy New Year My Love üéÜ<br>Now send me some cute photos of you! üì∏üòâ</p>
            <button class="btn btn-primary" onclick="closeAll()">Okay done! ‚ú®</button>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

<script>
    // --- 1. FULL SCREEN & AUDIO INITIALIZATION ---
    function startExperience() {
        // Attempt Full Screen for Android
        const elem = document.documentElement;
        if (elem.requestFullscreen) {
            elem.requestFullscreen().catch((err) => console.log("Fullscreen denied", err));
        } else if (elem.webkitRequestFullscreen) { elem.webkitRequestFullscreen(); }

        // Start Gate
        openGate();
        
        // Start Audio
        document.getElementById('bgMusic').play().catch((e)=>console.log("Audio waiting for interaction"));
    }

    // --- 2. PHYSICS FIREWORKS ENGINE (From Code 2 - Superior) ---
    const canvas = document.getElementById('fireworksCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    
    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    // Vibrant colors matching Code 1's theme
    const colors = ['#ff0080', '#ff8c00', '#40e0d0', '#8a2be2', '#ffd700', '#ffffff'];

    class Particle {
        constructor(x, y, color) {
            this.x = x; this.y = y; this.color = color;
            const angle = Math.random() * Math.PI * 2;
            const speed = Math.random() * 6 + 2; // Faster explosion
            this.vx = Math.cos(angle) * speed;
            this.vy = Math.sin(angle) * speed;
            this.alpha = 1; this.gravity = 0.06; this.friction = 0.97;
        }
        draw() {
            ctx.save();
            ctx.globalAlpha = this.alpha;
            ctx.beginPath();
            ctx.arc(this.x, this.y, 4, 0, Math.PI * 2); // Bigger particles
            ctx.fillStyle = this.color;
            ctx.fill();
            ctx.restore();
        }
        update() {
            this.vx *= this.friction;
            this.vy *= this.friction;
            this.vy += this.gravity;
            this.x += this.vx;
            this.y += this.vy;
            this.alpha -= 0.015;
        }
    }

    function launchFirework() {
        const x = Math.random() * canvas.width;
        const y = Math.random() * (canvas.height * 0.5);
        const color = colors[Math.floor(Math.random() * colors.length)];
        for (let i = 0; i < 50; i++) particles.push(new Particle(x, y, color));
    }

    function animateFireworks() {
        ctx.clearRect(0, 0, canvas.width, canvas.height); // Clean clear for transparent background
        particles.forEach((p, index) => {
            if (p.alpha <= 0) particles.splice(index, 1);
            else { p.update(); p.draw(); }
        });
        if (Math.random() < 0.05) launchFirework();
        requestAnimationFrame(animateFireworks);
    }
    animateFireworks();

    // --- 3. FLOATING ICONS (From Code 1 - Added Touch) ---
    const icons = ['‚ú®','üåü','üéÜ','üíñ','üéâ', 'ü•∞'];
    setInterval(() => {
        const f = document.createElement("div");
        f.className = "float-icon";
        f.innerText = icons[Math.floor(Math.random() * icons.length)];
        f.style.left = Math.random() * 90 + 5 + "%";
        document.getElementById('floatingIcons').appendChild(f);
        setTimeout(() => f.remove(), 8000);
    }, 600);


    // --- 4. GAME LOGIC ---
    // Gate Slangs
    const gateSlangs = [
        "Soch lo üòè", "Neutral bhi NO hi hota hai waise üòú", "Mohit gussa ho jaayega üò†",
        "Pata chal gaya Mohit ko toh dekh lena üëÄüî•", "Itna bhaav kis baat ka üòå",
        "Dil se pooch lo ek baar ‚ù§Ô∏è", "Last warning madam üòé", "Ab bhi NO? üòê",
        "Theek hai‚Ä¶ lagta hai faisla pakka hai üòî"
    ];
    let gateIndex = 0;

    // Love Slangs
    const loveLines = [
        "Jhooth mat bolo ü§•", "Are you sure? ü§®", "Dil pe haath rakh ke bolo? ‚ù§Ô∏è",
        "Mohit will cry... ü•∫", "Button toot jayega par YES dabao! üòÇ", "Drama mat karo üòè"
    ];
    let loveIndex = 0;

    function nextScreen(id) {
        document.querySelectorAll('.screen').forEach(s => { s.classList.remove('active'); s.classList.add('hidden'); });
        document.getElementById('screen-' + id).classList.remove('hidden');
        document.getElementById('screen-' + id).classList.add('active');
    }

    function flipCard(card) {
        card.classList.toggle('flipped');
        const vid = card.querySelector('video');
        if(vid) {
            if(card.classList.contains('flipped')) vid.play();
            else vid.pause();
        }
    }

    // --- GATE LOGIC ---
    function openGate() { document.getElementById('gate-modal').classList.add('show'); }

    function handleGate(isYes) {
        if (isYes) {
            document.getElementById('gate-modal').classList.remove('show');
            nextScreen(2); // Go to first card
            for(let i=0; i<5; i++) setTimeout(launchFirework, i*200);
        } else {
            const box = document.getElementById('gate-box');
            box.classList.add('shake');
            setTimeout(() => box.classList.remove('shake'), 500);
            launchFirework(); // Mocking firework

            if (gateIndex < gateSlangs.length) {
                document.getElementById('gate-text').innerText = gateSlangs[gateIndex];
                gateIndex++;
            } else {
                document.getElementById('gate-modal').classList.remove('show');
                document.getElementById('bye-modal').classList.add('show');
                setTimeout(() => {
                    document.getElementById('bye-modal').classList.remove('show');
                    document.getElementById('gate-modal').classList.add('show');
                    document.getElementById('gate-text').innerText = "Mazaak tha! Ab YES bolo jaldi üòú";
                    gateIndex = 0;
                }, 4000);
            }
        }
    }

    // --- LOVE LOGIC ---
    function showLovePopup() {
        document.getElementById('love-question-modal').classList.add('show');
        launchFirework();
    }

    function handleLove(isYes) {
        if(isYes) {
            document.getElementById('love-question-modal').classList.remove('show');
            document.getElementById('final-modal').classList.add('show');
            for(let i=0; i<15; i++) setTimeout(launchFirework, i*100); // Big celebration
        } else {
            const box = document.getElementById('love-box');
            box.classList.add('shake');
            setTimeout(()=>box.classList.remove('shake'), 500);
            document.getElementById('love-text').innerText = loveLines[loveIndex % loveLines.length];
            loveIndex++;
            launchFirework();
        }
    }

    function closeAll() {
        document.getElementById('final-modal').classList.remove('show');
        alert("Happy New Year Motuuuu! ‚ù§Ô∏è");
    }

</script>
</body>
</html>
